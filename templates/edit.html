{% extends "base.html" %}

{% block title %}Edit Service{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-4">Edit Service</h1>

{% if service.port %}
<div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4" role="alert">
    <p class="font-bold">Port-Based Service</p>
    <p>Editing is not supported for port-based services.</p>
</div>
{% else %}
<form action="{{ url_for('edit_service', service_id=service.id) }}" method="POST"
    class="mb-4 p-4 bg-white shadow rounded">
    <div class="mb-2">
        <label class="block font-bold">Service Name</label>
        <input type="text" name="name" value="{{ service.name_of_service }}"
            class="w-full p-2 border border-gray-300 rounded" required>
    </div>

    <div id="website-form">
        <div class="mb-2">
            <label class="block font-bold">URL</label>
            <input type="url" name="url" value="{{ service.url }}" class="w-full p-2 border border-gray-300 rounded">
        </div>
        <div class="mb-2">
            <label class="block font-bold">Request Type</label>
            <select name="request_type" class="w-full p-2 border border-gray-300 rounded">
                <option value="GET" {% if service.request_type=='GET' %}selected{% endif %}>GET</option>
                <option value="POST" {% if service.request_type=='POST' %}selected{% endif %}>POST</option>
            </select>
        </div>
        <div class="mb-2">
            <label class="block font-bold">Response Type</label>
            <select name="response_type" class="w-full p-2 border border-gray-300 rounded">
                <option value="STATUS CODE" {% if service.response_type=='STATUS CODE' %}selected{% endif %}>STATUS CODE
                </option>
                <option value="JSON" {% if service.response_type=='JSON' %}selected{% endif %}>JSON</option>
                <option value="TEXT" {% if service.response_type=='TEXT' %}selected{% endif %}>TEXT</option>
            </select>
        </div>
        <div class="mb-2">
            <label class="block font-bold">Expected Response</label>
            <input type="text" name="response" value="{{ service.response }}"
                class="w-full p-2 border border-gray-300 rounded">
        </div>
    </div>

    <div class="mb-2">
        <label class="block font-bold">Frequency (minutes)</label>
        <input type="number" name="frequency" value="{{ service.frequency }}"
            class="w-full p-2 border border-gray-300 rounded" required>
    </div>

    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Update Service</button>
</form>
{% endif %}
{% endblock %}